<!--
/*********************************************************************************
 * SugarCRM is a customer relationship management program developed by
 * SugarCRM, Inc. Copyright (C) 2004 - 2007 SugarCRM Inc.
 * 
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License version 3 as published by the
 * Free Software Foundation with the addition of the following permission added
 * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
 * IN WHICH THE COPYRIGHT IS OWNED BY SUGARCRM, SUGARCRM DISCLAIMS THE WARRANTY
 * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
 * 
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
 * details.
 * 
 * You should have received a copy of the GNU General Public License along with
 * this program; if not, see http://www.gnu.org/licenses or write to the Free
 * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 * 02110-1301 USA.
 * 
 * You can contact SugarCRM, Inc. headquarters at 10050 North Wolfe Road,
 * SW2-130, Cupertino, CA 95014, USA. or at email address contact@sugarcrm.com.
 * 
 * The interactive user interfaces in modified source and object code versions
 * of this program must display Appropriate Legal Notices, as required under
 * Section 5 of the GNU General Public License version 3.
 * 
 * In accordance with Section 7(b) of the GNU General Public License version 3,
 * these Appropriate Legal Notices must retain the display of the "Powered by
 * SugarCRM" logo. If the display of the logo is not reasonably feasible for
 * technical reasons, the Appropriate Legal Notices must display the words
 * "Powered by SugarCRM".
 ********************************************************************************/
/*********************************************************************************
 * {APP.LBL_CURRENCY_SYM}Header: /cvsroot/sugarcrm/sugarcrm/modules/Contacts/EditView.html,v 1.22 2004/07/16 04:04:42 sugarclint Exp {APP.LBL_CURRENCY_SYM}
 ********************************************************************************/
-->
<!-- BEGIN: main -->
<!-- BEGIN: error -->
<span class="error">{ERROR}</span>
<!-- END: error -->


			<form enctype="multipart/form-data" name="Import" method="POST" action="index.php">
			<input type="hidden" name="module" value="{MODULE}">
			<input type="hidden" name="step" value="2">
			<input type="hidden" name="custom_delimiter" value="">
			<input type="hidden" name="action" value="Import">
			<input type="hidden" name="return_module" value="{RETURN_MODULE}">
			<input type="hidden" name="return_id" value="{RETURN_ID}">
			<input type="hidden" name="return_action" value="{RETURN_ACTION}">
<p>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="tabForm">
<tr>
<td>
	<table border="0" cellspacing="0" cellpadding="0">
	<tr>
	<th align="left" class="dataLabel" colspan="4"><h4 class="">{MOD.LBL_WHAT_IS}</h4></th>
	</tr>
<!-- BEGIN: show_salesforce -->
	<tr>
	<td><input class="radio" type="radio" name="source" value="salesforce" onClick="document.getElementById('customDelimiterDiv').style.display='none'" CHECKED="true"/></td><td>{MOD.LBL_SALESFORCE}</td>
	<td></td>
	</tr>
<!-- END: show_salesforce -->
<!-- BEGIN: show_outlook -->
	<tr>
	<td><input class="radio" type="radio" name="source" value="outlook" onClick="document.getElementById('customDelimiterDiv').style.display='none'"/></td><td>{MOD.LBL_MICROSOFT_OUTLOOK}</td>
	<td></td>
	</tr>
<!-- END: show_outlook -->
	<tr>
	<td><input class="radio" type="radio" name="source" value="other" onClick="document.getElementById('customDelimiterDiv').style.display='none'"/></td><td>{MOD.LBL_CSV}</td>
	<td></td>
	</tr>
	<tr>
	<td><input class="radio" type="radio" name="source" value="other_tab" onClick="document.getElementById('customDelimiterDiv').style.display='none'"/></td><td>{MOD.LBL_TAB}</td>
	<td></td>
	</tr>
	<tr>
	<td><input class="radio" type="radio" name="source" value="custom_delimited" onClick="document.getElementById('customDelimiterDiv').style.display='inline'"/></td><td>{MOD.LBL_CUSTOM_DELIMETED}</td>
	<td></td>
	</tr>
	<tr>
		<td></td>
		<td><div id=customDelimiterDiv style='display:none'>{MOD.LBL_CUSTOM_DELIMITER}<input type="text" id="custom_delimiter_val" name="custom_delimiter_val" size=5></div></td>
		<td></td>
	</tr>
<!-- BEGIN: saved -->
	<tr>
	<td colspan="4"><br><b>{MOD.LBL_MY_SAVED}</b></td>
	</tr>
<!-- BEGIN: saved_elem -->
	<tr>
	<td><input class="radio" type="radio" name="source" value="custom:{IMPORT_ID}"/></td><td>{IMPORT_NAME}</td>
<!-- BEGIN: is_admin -->
	<td>
<a href="index.php?publish=yes&module={MODULE}&action=Import&step=1&import_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}"  class="tabFormAdvLink">{PUBLISH_INLINE_PNG}</a>&nbsp;<a href="index.php?publish=yes&module={MODULE}&action=Import&step=1&import_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}"  class="tabFormAdvLink">{MOD.LBL_PUBLISH}</a>
</td>
<!-- END: is_admin -->
	<td><a href="index.php?module={MODULE}&action=Import&step=1&delete_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}">{DELETE_INLINE_PNG}</a>&nbsp;<a  class="tabFormAdvLink"  href="index.php?module={MODULE}&action=Import&step=1&delete_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}">{MOD.LBL_DELETE}</a></td>
	</tr>
<!-- END: saved_elem -->
<!-- END: saved -->

<!-- BEGIN: published -->
	<tr>
	<td colspan="4"><br><b>{MOD.LBL_PUBLISHED_SOURCES}</b></td>
	</tr>
<!-- BEGIN: published_elem -->
	<tr>
	<td><input class="radio" type="radio" name="source" value="custom:{IMPORT_ID}"/></td><td>{IMPORT_NAME}</td>
<!-- BEGIN: is_admin -->
<td><a href="index.php?publish=no&module={MODULE}&action=Import&step=1&import_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}"  class="tabFormAdvLink">{UNPUBLISH_INLINE_PNG}</a>&nbsp;<a href="index.php?publish=no&module={MODULE}&action=Import&step=1&import_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}"  class="tabFormAdvLink">{MOD.LBL_UNPUBLISH}</a>
</td>
<td>&nbsp;<a href="index.php?module={MODULE}&action=Import&step=1&delete_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}" class="tabFormAdvLink">{DELETE_INLINE_PNG}</a>&nbsp;<a href="index.php?module={MODULE}&action=Import&step=1&delete_map_id={IMPORT_ID}&return_action={RETURN_ACTION}&return_module={RETURN_MODULE}"  class="tabFormAdvLink">{MOD.LBL_DELETE}</a></td>
<!-- END: is_admin -->
<!-- BEGIN: not_admin -->
<td></td><td></td>
<!-- END: not_admin -->
	</tr>
<!-- END: published_elem -->
<!-- END: published -->
	</table>

</td>
</tr>
</table></p>

<p><table width="100%" cellpadding="2" cellspacing="0" border="0"><tr>
	<td align="right">
	<input title="{MOD.LBL_NEXT}" accessKey="" class="button" type="submit" name="button" value="  {MOD.LBL_NEXT}  "  onclick="this.form.action.value='Import';return validateForm();"></td>
</tr>
</table> </p>

	</form>
{JAVASCRIPT}
<script>
	function validateForm()
	{
		var selectedIndex = 0;
		for (var i = 0; i < Import.source.length; i++)
		{
			if (Import.source[i].checked)
			{
				selectedIndex = i;
				break;
			}
		}
		if (Import.source[selectedIndex].value == 'custom_delimited' && document.getElementById('custom_delimiter_val').value == "")
		{
			alert(SUGAR.language.get('app_strings', 'LBL_MISSING_CUSTOM_DELIMITER'));
			return false;
		}
		else if (Import.source[selectedIndex].value == 'custom_delimited')
		{
			Import.custom_delimiter.value = document.getElementById('custom_delimiter_val').value;
		}
		return true;
	}
</script>
<!-- END: main -->
